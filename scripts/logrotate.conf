# Logrotate configuration for BayanLab pipeline logs
# Copy to /etc/logrotate.d/bayanlab or run manually:
#   logrotate -f /path/to/bayanlab/scripts/logrotate.conf

/Users/hfox/Developments/bayanlab/logs/*.log {
    # Rotate daily
    daily

    # Keep 30 days of logs
    rotate 30

    # Compress old logs
    compress
    delaycompress

    # Don't error if log file is missing
    missingok

    # Don't rotate empty logs
    notifempty

    # Create new log files with these permissions
    create 0644 hfox staff

    # Use date as suffix for rotated files
    dateext
    dateformat -%Y%m%d

    # Don't mail old logs
    nomail
}

/Users/hfox/Developments/bayanlab/logs/cron.log {
    # Rotate weekly for cron logs
    weekly

    # Keep 12 weeks
    rotate 12

    compress
    delaycompress
    missingok
    notifempty
    create 0644 hfox staff
    dateext
    dateformat -%Y%m%d
    nomail
}
